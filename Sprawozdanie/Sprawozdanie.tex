\documentclass[12pt, a4paper]{article}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, polish]{babel}
\usepackage{polski}
\usepackage{graphicx}
\usepackage[export]{adjustbox}
\usepackage{amsmath}
\usepackage{pdfpages}
\usepackage{enumerate}
\usepackage{siunitx}
\usepackage{svg}

\begin{titlepage}
\author{
	\\ Krystian Chachuła
	\\ Marcin Dolicher
	\\
	\\ AIR Semestr V
}
\title{
    \quad \quad \quad \quad \quad SMS
	\newline
	Sprawozdanie z Projektu I		
}
\date{}
\end{titlepage}

\begin{document}
\maketitle
\newpage
\tableofcontents

\newpage
\section{Zagadnienia i założenia projektowe}
Postawione przed nami zadanie polegało na zaprojektowaniu regulatora PID i DMC, które sterują obiektem zrealizowanym na mikrokontrolerach z serii STM32. Powinniśmy tak manipulować sygnałem wejściowym procesu $u$, aby wartość sygnału wyjściowego procesu (regulowanego) $y$ była możliwie bliska wartośći zadanej $y^{zad}$. Wartość uchybu $e=y^{zad} - y$ powinna być jak najmniejsza. Wyniki uzyskane podczas eksperymentów zostaną porównane i poddane krytycznej weryfikacji. 
\section{Algorytm PID}

\subsection{Omówienie implementacji}

Tradycyjnie regulację za pomocą algorytmu PID realizujemy za pomocą trzech członów proporcjonalnego, całkującego i różniczkującego. Człon proporcjonalny powoduje wzrost wartości sterowania wraz z wzrostem uchybu, całkujący zwiększa wartość sygnału sterującego wraz z akumulowanym uchybem, a dla różniczkującego wraz z wzrostem uchybu, wzrasta wartość sygnału sterującego. 
\\\\Implementacji algorytmu dokonaliśmy w plikach \verb|Pid.c| i \verb|Pid.h|. Parametry PID-a zostały w kodzie zaprezentowane jako struktura \textit{Pid}. W pliku \verb|main.c| zadajemy wartości odpowiednim parametrom z struktury PID. Wymagane obliczenia w algorytmie są realizowane za pomocą funkcji \verb|float pidCe(Pid *pid, float pv)|, której argumentami są struktura z wartościami naszego PID-a i zmienna \textit{pv - process value}, czyli naszą wartość zadaną, a funkcja zwraca nam sygnał sterujący. 

~\\ W każdym wywołoniu funkcji dokonujemy następujących obliczeń: 
\begin{enumerate}
\item Wyliczamy uchyb na podstawie wzoru: $e(k) = y^{zad}(k) - y(k)$
\item Wartość członu proporcjonalnego $u(P)=Ke(k)$
\item Wartość członu całkującego $u_{I}(k) = u_{I}(k-1) + \dfrac{K}{T_{I}}T\dfrac{e(k-1)+e(k)}{2}$
\item Wartość członu różniczkującego $u_{D}(k) = KT_{D}\dfrac{e(k)-e(k-1)}{T}$
\item Następuje zapisanie wartości z stanu k jako wartości dla stanu k-1 (w naszym kodzie zmienne z poprzedniego stanu wyrażone są za pomocą przedrostka prev)
\end{enumerate}

Oprócz tych kroków do naszego algorytmu zastosowaliśmy rozwiązanie anti-windup. Rozwiązania tego używamy w przypadku gdy zmienna sterowania osiąga wartość graniczną urządzenia wykonawczego. Wiemy, że nie ma sensu zadawać większej wartości sygnału sterowania niż element wykonawczy jest w stanie zrealizować. W takiej sytuacji przerywamy pętlę sprzężenia zwrotnego i system zaczyna pracę w pętli otwartej. Takie rozwiązanie zapobiega ,,nawijaniu'' członu całkującego, czyli osiąganiu nadzwyczaj dużych wartości członu całkującego co prowadzi do ogromnego spowolnienia działania regulatora, a w skrajnych przypadkach do jego rozregulowania. 

~\\

Odp skokowa !!!!!!!!!!!!!!!!??????????????????????
Dostrajanie regulatora odbywało się na zasadzie pozyskiwania odpowiedz skokowej. Obserwując w jaki sposób sygnał sterujący generowany przez regulator osiąga wartość zadaną podczas skoku dokonywaliśmy oceny regulacji. W ten sposoób wybieraliśmy najlepsze nastawy dla regulatora. 

\subsection{Wyznaczanie nastawów regulatora metodą Zieglera-Nicholsa}

Przbieg strojenia regulatora przy użyciu metody Zieglera-Nicholsa
\begin{enumerate}
\item Implementujemy regulator typu P.
\item Wartość wzmocnienia K dobieramy tak aby wyjście obiektu regulacji miało charakter oscylacyjny (nierosnący, niemalejący). Przyjmujemy wzmocnienie krytyczne $K_{u} = K$. Odczytujemy jeszcze okres oscylacji $T_{u}$.

\item Używając tabelki wyliczamy parametry $K, T_{I}, T_{D}$ w zależności od regulatora który chcemy stosować P, PI, PID. My oczywiście wybiermay wzory dla PID. 
\item Wyznaczone parametry powinny zapewnić niezłą jakość regulacji, gdy będziemy chcieli spróbować znaleźć lepszy regulator zaczęcie od nastawów wyznaczonych metodą Zieglera-Nicholsa będzie dobrym pomysłem.
\end{enumerate}

\begin{figure}[h!]
\includesvg{Zdjecia/zieglerkp.svg}
\end{figure}

\section{Algorytm DMC}

\section{Porównanie najlepszych realizacji PID i DMC}

\subsection{f) }
\begin{figure}[h!]
%\includegraphics[scale=0.55, center]{sciezka do pliku}
\end{figure}

\section{Testowanie}

\section{Wnioski}





















































\end{document}

